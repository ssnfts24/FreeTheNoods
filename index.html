<!DOCTYPE html>
<html lang="en">
<head>
    <script src="auth.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free The Noods RPG Game">
    <title>Free The Noods RPG</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <nav>
    <a href="#stats">Stats</a>
    <a href="#quest-section">Quests</a>
    <a href="#guild-section">Guilds</a>
    <a href="#shop">Shop</a>
    <button id="logout-btn" onclick="logout()" style="display: none;">Logout</button>
</nav>

    <div class="game-container">
        <h1>Free The Noods RPG</h1>
        <p>Embark on an epic adventure to collect Noods and defeat challenging enemies!</p>

        <!-- User Login/Registration Section -->
        <div id="auth-container">
            <div id="login-section">
                <h3>Login</h3>
                <form id="login-form">
                    <input type="text" id="login-username" placeholder="Username" required>
                    <input type="password" id="login-password" placeholder="Password" required>
                    <button type="submit">Login</button>
               <form id="login-form">
    <input type="text" id="login-username" placeholder="Username" required>
    <input type="password" id="login-password" placeholder="Password" required>
    <button type="submit">Login</button>
</form>

<form id="register-form">
    <input type="text" id="register-username" placeholder="Username" required>
    <input type="password" id="register-password" placeholder="Password" required>
    <button type="submit">Register</button>
</form>

            </div>
        </div>

        <!-- Game Area -->
        <div id="game-area" style="display: none;">
            <!-- Player Stats -->
            <section id="stats">
                <h3>Player Stats</h3>
                <div id="player-stats"></div>
            </section>

            <!-- Enemy Stats -->
            <section id="enemy-stats">
                <h3>Enemy Stats</h3>
                <div id="enemy-details"></div>
            </section>

            <!-- Battle Area -->
            <section id="battle-area">
                <p id="battle-text">Prepare for battle!</p>
                <div id="actions"></div>
            </section>

            <!-- Nood Team Display -->
            <section id="team-noods">
                <h3>Your Noods</h3>
                <div id="team-container"></div>
            </section>

            <!-- Quest Section -->
            <section id="quest-section">
                <h3>Quests</h3>
                <div id="active-quests">
                    <p>No active quests yet.</p>
                </div>
                <button onclick="startQuest('Example Quest')">Start Example Quest</button>
            </section>

            <!-- Guild Section -->
            <section id="guild-section">
                <h3>Guilds</h3>
                <p>Join a guild to gain unique bonuses for your Noods!</p>
                <button onclick="joinGuild('Flame Keepers')">Join Flame Keepers</button>
                <button onclick="joinGuild('Wave Riders')">Join Wave Riders</button>
                <button onclick="joinGuild('Shadow Veil')">Join Shadow Veil</button>
            </section>

            <!-- Shop Section -->
            <section id="shop">
                <h3>Shop</h3>
                <div id="shop-items">
                    <p>No items available yet.</p>
                </div>
            </section>

            <!-- Battle Log -->
            <section id="log">
                <h3>Battle Log</h3>
                <ul id="battle-log"></ul>
            </section>
        </div>
    </div>

    <script src="auth.js"></script>
    <script src="game.js"></script>
    <script>
        // Handle Authentication
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            if (login(username, password)) {
                document.getElementById('auth-container').style.display = 'none';
                document.getElementById('game-area').style.display = 'block';
            }
        });

        document.getElementById('register-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('register-username').value;
            const password = document.getElementById('register-password').value;
            register(username, password);
        });

        // Load Game Progress if Logged In
        window.onload = function() {
            if (getCurrentUser()) {
                document.getElementById('auth-container').style.display = 'none';
                document.getElementById('game-area').style.display = 'block';
                loadProgress();
            }
        };
    </script>
</body>
</html>
